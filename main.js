/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ComicDialogPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var ComicDialogPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.styleBlock = null;
  }
  detectLineType(line) {
    if (line.startsWith("  ")) {
      return "speech";
    }
    if (line.startsWith("*")) {
      return "note";
    }
    return "description";
  }
  handleDialogBlock(source, el, ctx) {
    const lines = source.split("\n").map((line) => ({
      line,
      type: this.detectLineType(line),
      speaker: null,
      text: null
    })).map((line) => {
      if (line.type == "speech") {
        const trimmedLine = line.line.trim();
        const nameLen = trimmedLine.indexOf(":");
        const speaker = trimmedLine.substring(0, nameLen);
        const text = trimmedLine.substring(nameLen + 1).trim();
        return {
          ...line,
          speaker,
          text
        };
      } else {
        return line;
      }
    });
    const metadata = this.app.metadataCache.getCache(ctx.sourcePath) || {};
    const frontmatter = metadata.frontmatter || {};
    const configuredSpeakers = frontmatter["speakers"] || {};
    const speakers = lines.filter((line) => line.speaker).map((line) => line.speaker).filter((speaker) => !configuredSpeakers[speaker]);
    lines.forEach((line) => {
      const targetDiv = el.createDiv();
      const mdRenderer = new import_obsidian.MarkdownRenderChild(targetDiv);
      ctx.addChild(mdRenderer);
      const appReference = this.app;
      function writeMarkdown(md) {
        import_obsidian.MarkdownRenderer.render(appReference, md, targetDiv, ctx.sourcePath, mdRenderer);
      }
      switch (line.type) {
        case "description":
          targetDiv.addClass("desc");
          writeMarkdown(line.line);
          break;
        case "note":
          targetDiv.addClass("note");
          writeMarkdown(line.line.substring(1).trim());
          break;
        case "speech":
          const speakerName = line.speaker || "Unknown";
          const spokenText = line.text || "";
          targetDiv.detach();
          if (spokenText.trim() == "") {
            return;
          }
          const speechDiv = el.createDiv("speech");
          const nameDiv = speechDiv.createDiv("name");
          const speakerNumber = speakers.indexOf(speakerName);
          const speakerColor = configuredSpeakers[speakerName];
          speechDiv.appendChild(targetDiv);
          nameDiv.appendText(speakerName);
          if (speakerColor) {
            nameDiv.setAttribute("style", `color:${speakerColor}`);
          } else {
            nameDiv.addClass(`p${speakerNumber}`);
          }
          targetDiv.addClass("speaks");
          writeMarkdown(spokenText);
          break;
        default:
          targetDiv.addClass("unknown");
          writeMarkdown(line.line);
          break;
      }
    });
    el.addClass("comic-dialog-block");
  }
  setupStyles() {
    this.styleBlock = createEl("style");
    this.styleBlock.appendText(`
            .comic-dialog-block {
                border-radius: 1rem;
                
                --speaks-color-0: var(--color-red);
                --speaks-color-1: var(--color-orange);
                --speaks-color-2: var(--color-yellow);
                --speaks-color-3: var(--color-green);
                --speaks-color-4: var(--color-cyan);
                --speaks-color-5: var(--color-blue);
                --speaks-color-6: var(--color-purple);
                --speaks-color-7: var(--color-pink);
            }

            .comic-dialog-block .unknown {
                background-color: var(--color-red);
            }

            .comic-dialog-block .note {
                background-color: rgba(var(--color-cyan-rgb), 10%);
                border-radius: 0.5rem;
                color: var(--color-cyan);
                margin-top: 1rem;
                margin-bottom: 1rem;
                padding: 0.75rem;
            }
            
            .comic-dialog-block .desc {
                text-align: justify;
            }
            
            .comic-dialog-block .speech {
                background-color: var(--background-modifier-form-field);
                border-radius: 0.5rem;
                margin: 1rem;
                padding: 0.75rem;
                display: flex;
                gap: 2rem;
            }
            
            .comic-dialog-block .speech .name {
                width: 10rem;
                flex: 0 0 fit-content;
            }

            .comic-dialog-block .speech .name.p0 {
                color: var(--speaks-color-0);
            }
            .comic-dialog-block .speech .name.p1 {
                color: var(--speaks-color-1);
            }
            .comic-dialog-block .speech .name.p2 {
                color: var(--speaks-color-2);
            }
            .comic-dialog-block .speech .name.p3 {
                color: var(--speaks-color-3);
            }
            .comic-dialog-block .speech .name.p4 {
                color: var(--speaks-color-4);
            }
            .comic-dialog-block .speech .name.p5 {
                color: var(--speaks-color-5);
            }
            .comic-dialog-block .speech .name.p6 {
                color: var(--speaks-color-6);
            }
            .comic-dialog-block .speech .name.p7 {
                color: var(--speaks-color-7);
            }
            
            .comic-dialog-block .speech .speaks {
                flex: 0 1 initial;
            }
            
            .comic-dialog-block .speech .speaks p {
                display: inline;
            }
        `);
    document.head.appendChild(this.styleBlock);
  }
  onload() {
    this.setupStyles();
    this.registerMarkdownCodeBlockProcessor("comic-dialog", this.handleDialogBlock.bind(this));
  }
  unload() {
    if (this.styleBlock != null) {
      document.head.removeChild(this.styleBlock);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuICAgIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXHJcbiAgICBNYXJrZG93blJlbmRlckNoaWxkLFxyXG4gICAgTWFya2Rvd25SZW5kZXJlcixcclxuICAgIFBsdWdpbixcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21pY0RpYWxvZ1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICBzdHlsZUJsb2NrOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgZGV0ZWN0TGluZVR5cGUobGluZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiICBcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwic3BlZWNoXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCIqXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm5vdGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcImRlc2NyaXB0aW9uXCJcclxuICAgIH1cclxuICAgIGhhbmRsZURpYWxvZ0Jsb2NrKHNvdXJjZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KFwiXFxuXCIpLm1hcChsaW5lID0+ICh7XHJcbiAgICAgICAgICAgIGxpbmUsXHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuZGV0ZWN0TGluZVR5cGUobGluZSksXHJcbiAgICAgICAgICAgIHNwZWFrZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHRleHQ6IG51bGxcclxuICAgICAgICB9KSkubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgICAgIGlmIChsaW5lLnR5cGUgPT0gXCJzcGVlY2hcIikge1xyXG4gICAgICAgICAgICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUubGluZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IG5hbWVMZW4gPSB0cmltbWVkTGluZS5pbmRleE9mKFwiOlwiKTtcclxuICAgICAgICAgICAgICAgY29uc3Qgc3BlYWtlciA9IHRyaW1tZWRMaW5lLnN1YnN0cmluZygwLCBuYW1lTGVuKTtcclxuICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRyaW1tZWRMaW5lLnN1YnN0cmluZyhuYW1lTGVuICsgMSkudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgIC4uLmxpbmUsXHJcbiAgICAgICAgICAgICAgICAgICBzcGVha2VyLFxyXG4gICAgICAgICAgICAgICAgICAgdGV4dFxyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKGN0eC5zb3VyY2VQYXRoKSB8fCB7fTtcclxuICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IG1ldGFkYXRhLmZyb250bWF0dGVyIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyZWRTcGVha2VycyA9IGZyb250bWF0dGVyW1wic3BlYWtlcnNcIl0gfHwge307XHJcblxyXG4gICAgICAgIGNvbnN0IHNwZWFrZXJzID0gbGluZXNcclxuICAgICAgICAgICAgLmZpbHRlcihsaW5lID0+IGxpbmUuc3BlYWtlcilcclxuICAgICAgICAgICAgLm1hcChsaW5lID0+IGxpbmUuc3BlYWtlciEpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoc3BlYWtlciA9PiAhY29uZmlndXJlZFNwZWFrZXJzW3NwZWFrZXJdKTtcclxuXHJcbiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGl2ID0gZWwuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1kUmVuZGVyZXIgPSBuZXcgTWFya2Rvd25SZW5kZXJDaGlsZCh0YXJnZXREaXYpO1xyXG4gICAgICAgICAgICBjdHguYWRkQ2hpbGQobWRSZW5kZXJlcik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZWZlcmVuY2UgPSB0aGlzLmFwcDtcclxuICAgICAgICAgICAgZnVuY3Rpb24gd3JpdGVNYXJrZG93bihtZDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlcihhcHBSZWZlcmVuY2UsIG1kLCB0YXJnZXREaXYsIGN0eC5zb3VyY2VQYXRoLCBtZFJlbmRlcmVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChsaW5lLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZXNjcmlwdGlvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldERpdi5hZGRDbGFzcyhcImRlc2NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVNYXJrZG93bihsaW5lLmxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXYuYWRkQ2xhc3MoXCJub3RlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlTWFya2Rvd24obGluZS5saW5lLnN1YnN0cmluZygxKS50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNwZWVjaFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWFrZXJOYW1lID0gbGluZS5zcGVha2VyIHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwb2tlblRleHQgPSBsaW5lLnRleHQgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXYuZGV0YWNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcG9rZW5UZXh0LnRyaW0oKSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVjaERpdiA9IGVsLmNyZWF0ZURpdihcInNwZWVjaFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lRGl2ID0gc3BlZWNoRGl2LmNyZWF0ZURpdihcIm5hbWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BlYWtlck51bWJlciA9IHNwZWFrZXJzLmluZGV4T2Yoc3BlYWtlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWFrZXJDb2xvciA9IGNvbmZpZ3VyZWRTcGVha2Vyc1tzcGVha2VyTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWNoRGl2LmFwcGVuZENoaWxkKHRhcmdldERpdik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZURpdi5hcHBlbmRUZXh0KHNwZWFrZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWFrZXJDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lRGl2LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBjb2xvcjoke3NwZWFrZXJDb2xvcn1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lRGl2LmFkZENsYXNzKGBwJHtzcGVha2VyTnVtYmVyfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGl2LmFkZENsYXNzKFwic3BlYWtzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlTWFya2Rvd24oc3Bva2VuVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldERpdi5hZGRDbGFzcyhcInVua25vd25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVNYXJrZG93bihsaW5lLmxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuYWRkQ2xhc3MoXCJjb21pYy1kaWFsb2ctYmxvY2tcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBTdHlsZXMoKSB7XHJcbiAgICAgICAgdGhpcy5zdHlsZUJsb2NrID0gY3JlYXRlRWwoXCJzdHlsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gbGFuZ3VhZ2U9Q1NTXHJcbiAgICAgICAgdGhpcy5zdHlsZUJsb2NrLmFwcGVuZFRleHQoYFxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIHtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTA6IHZhcigtLWNvbG9yLXJlZCk7XHJcbiAgICAgICAgICAgICAgICAtLXNwZWFrcy1jb2xvci0xOiB2YXIoLS1jb2xvci1vcmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgLS1zcGVha3MtY29sb3ItMjogdmFyKC0tY29sb3IteWVsbG93KTtcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTM6IHZhcigtLWNvbG9yLWdyZWVuKTtcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTQ6IHZhcigtLWNvbG9yLWN5YW4pO1xyXG4gICAgICAgICAgICAgICAgLS1zcGVha3MtY29sb3ItNTogdmFyKC0tY29sb3ItYmx1ZSk7XHJcbiAgICAgICAgICAgICAgICAtLXNwZWFrcy1jb2xvci02OiB2YXIoLS1jb2xvci1wdXJwbGUpO1xyXG4gICAgICAgICAgICAgICAgLS1zcGVha3MtY29sb3ItNzogdmFyKC0tY29sb3ItcGluayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5jb21pYy1kaWFsb2ctYmxvY2sgLnVua25vd24ge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAubm90ZSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWNvbG9yLWN5YW4tcmdiKSwgMTAlKTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1jeWFuKTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC43NXJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuZGVzYyB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2gge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1mb3JtLWZpZWxkKTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMXJlbTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNzVyZW07XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgZ2FwOiAycmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwcmVtO1xyXG4gICAgICAgICAgICAgICAgZmxleDogMCAwIGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDAge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDEge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDIge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDMge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDQge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci00KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDUge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci01KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDYge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci02KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDcge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci03KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuc3BlZWNoIC5zcGVha3Mge1xyXG4gICAgICAgICAgICAgICAgZmxleDogMCAxIGluaXRpYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC5jb21pYy1kaWFsb2ctYmxvY2sgLnNwZWVjaCAuc3BlYWtzIHAge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZUJsb2NrKTtcclxuICAgIH1cclxuXHJcbiAgICBvbmxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXR1cFN0eWxlcygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcImNvbWljLWRpYWxvZ1wiLCB0aGlzLmhhbmRsZURpYWxvZ0Jsb2NrLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9hZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdHlsZUJsb2NrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlQmxvY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFLTztBQUVQLElBQXFCLG9CQUFyQixjQUErQyx1QkFBTztBQUFBLEVBQXREO0FBQUE7QUFDSSxzQkFBaUM7QUFBQTtBQUFBLEVBRWpDLGVBQWUsTUFBc0I7QUFDakMsUUFBSSxLQUFLLFdBQVcsSUFBSSxHQUFHO0FBQ3ZCLGFBQU87QUFBQSxJQUNYO0FBQ0EsUUFBSSxLQUFLLFdBQVcsR0FBRyxHQUFHO0FBQ3RCLGFBQU87QUFBQSxJQUNYO0FBRUEsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUNBLGtCQUFrQixRQUFnQixJQUFpQixLQUFtQztBQUNsRixVQUFNLFFBQVEsT0FBTyxNQUFNLElBQUksRUFBRSxJQUFJLFdBQVM7QUFBQSxNQUMxQztBQUFBLE1BQ0EsTUFBTSxLQUFLLGVBQWUsSUFBSTtBQUFBLE1BQzlCLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxJQUNWLEVBQUUsRUFBRSxJQUFJLFVBQVE7QUFDYixVQUFJLEtBQUssUUFBUSxVQUFVO0FBQ3ZCLGNBQU0sY0FBYyxLQUFLLEtBQUssS0FBSztBQUNuQyxjQUFNLFVBQVUsWUFBWSxRQUFRLEdBQUc7QUFDdkMsY0FBTSxVQUFVLFlBQVksVUFBVSxHQUFHLE9BQU87QUFDaEQsY0FBTSxPQUFPLFlBQVksVUFBVSxVQUFVLENBQUMsRUFBRSxLQUFLO0FBRXJELGVBQU87QUFBQSxVQUNILEdBQUc7QUFBQSxVQUNIO0FBQUEsVUFDQTtBQUFBLFFBQ0o7QUFBQSxNQUNKLE9BQU87QUFDSCxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0gsQ0FBQztBQUVELFVBQU0sV0FBVyxLQUFLLElBQUksY0FBYyxTQUFTLElBQUksVUFBVSxLQUFLLENBQUM7QUFDckUsVUFBTSxjQUFjLFNBQVMsZUFBZSxDQUFDO0FBQzdDLFVBQU0scUJBQXFCLFlBQVksVUFBVSxLQUFLLENBQUM7QUFFdkQsVUFBTSxXQUFXLE1BQ1osT0FBTyxVQUFRLEtBQUssT0FBTyxFQUMzQixJQUFJLFVBQVEsS0FBSyxPQUFRLEVBQ3pCLE9BQU8sYUFBVyxDQUFDLG1CQUFtQixPQUFPLENBQUM7QUFFbkQsVUFBTSxRQUFRLFVBQVE7QUFDbEIsWUFBTSxZQUFZLEdBQUcsVUFBVTtBQUMvQixZQUFNLGFBQWEsSUFBSSxvQ0FBb0IsU0FBUztBQUNwRCxVQUFJLFNBQVMsVUFBVTtBQUV2QixZQUFNLGVBQWUsS0FBSztBQUMxQixlQUFTLGNBQWMsSUFBWTtBQUMvQix5Q0FBaUIsT0FBTyxjQUFjLElBQUksV0FBVyxJQUFJLFlBQVksVUFBVTtBQUFBLE1BQ25GO0FBRUEsY0FBUSxLQUFLLE1BQU07QUFBQSxRQUNmLEtBQUs7QUFDRCxvQkFBVSxTQUFTLE1BQU07QUFDekIsd0JBQWMsS0FBSyxJQUFJO0FBQ3ZCO0FBQUEsUUFDSixLQUFLO0FBQ0Qsb0JBQVUsU0FBUyxNQUFNO0FBQ3pCLHdCQUFjLEtBQUssS0FBSyxVQUFVLENBQUMsRUFBRSxLQUFLLENBQUM7QUFDM0M7QUFBQSxRQUNKLEtBQUs7QUFDRCxnQkFBTSxjQUFjLEtBQUssV0FBVztBQUNwQyxnQkFBTSxhQUFhLEtBQUssUUFBUTtBQUNoQyxvQkFBVSxPQUFPO0FBRWpCLGNBQUksV0FBVyxLQUFLLEtBQUssSUFBSTtBQUN6QjtBQUFBLFVBQ0o7QUFFQSxnQkFBTSxZQUFZLEdBQUcsVUFBVSxRQUFRO0FBQ3ZDLGdCQUFNLFVBQVUsVUFBVSxVQUFVLE1BQU07QUFDMUMsZ0JBQU0sZ0JBQWdCLFNBQVMsUUFBUSxXQUFXO0FBQ2xELGdCQUFNLGVBQWUsbUJBQW1CLFdBQVc7QUFDbkQsb0JBQVUsWUFBWSxTQUFTO0FBQy9CLGtCQUFRLFdBQVcsV0FBVztBQUU5QixjQUFJLGNBQWM7QUFDZCxvQkFBUSxhQUFhLFNBQVMsU0FBUyxjQUFjO0FBQUEsVUFDekQsT0FBTztBQUNILG9CQUFRLFNBQVMsSUFBSSxlQUFlO0FBQUEsVUFDeEM7QUFFQSxvQkFBVSxTQUFTLFFBQVE7QUFDM0Isd0JBQWMsVUFBVTtBQUN4QjtBQUFBLFFBQ0o7QUFDSSxvQkFBVSxTQUFTLFNBQVM7QUFDNUIsd0JBQWMsS0FBSyxJQUFJO0FBQ3ZCO0FBQUEsTUFDUjtBQUFBLElBQ0osQ0FBQztBQUNELE9BQUcsU0FBUyxvQkFBb0I7QUFBQSxFQUNwQztBQUFBLEVBRUEsY0FBYztBQUNWLFNBQUssYUFBYSxTQUFTLE9BQU87QUFHbEMsU0FBSyxXQUFXLFdBQVc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBNkUxQjtBQUVELGFBQVMsS0FBSyxZQUFZLEtBQUssVUFBVTtBQUFBLEVBQzdDO0FBQUEsRUFFQSxTQUFTO0FBQ0wsU0FBSyxZQUFZO0FBQ2pCLFNBQUssbUNBQW1DLGdCQUFnQixLQUFLLGtCQUFrQixLQUFLLElBQUksQ0FBQztBQUFBLEVBQzdGO0FBQUEsRUFFQSxTQUFTO0FBQ0wsUUFBSSxLQUFLLGNBQWMsTUFBTTtBQUN6QixlQUFTLEtBQUssWUFBWSxLQUFLLFVBQVU7QUFBQSxJQUM3QztBQUFBLEVBQ0o7QUFDSjsiLAogICJuYW1lcyI6IFtdCn0K
