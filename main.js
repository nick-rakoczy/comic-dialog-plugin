/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ComicDialogPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var ComicDialogPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.styleBlock = null;
  }
  detectLineType(line) {
    if (line.startsWith("  ")) {
      return "speech";
    }
    if (line.startsWith("*")) {
      return "note";
    }
    return "description";
  }
  handleDialogBlock(source, el, ctx) {
    const lines = source.split("\n").map((line) => ({
      line,
      type: this.detectLineType(line),
      speaker: null,
      text: null,
      mood: null
    })).map((line) => {
      if (line.type == "speech") {
        const trimmedLine = line.line.trim();
        const nameLen = trimmedLine.indexOf(":");
        const [speaker, mood] = trimmedLine.substring(0, nameLen).split("|", 2).map((s) => s.trim());
        const text = trimmedLine.substring(nameLen + 1).trim();
        return {
          ...line,
          speaker,
          text,
          mood
        };
      } else {
        return line;
      }
    });
    const metadata = this.app.metadataCache.getCache(ctx.sourcePath) || {};
    const frontmatter = metadata.frontmatter || {};
    const configuredSpeakers = frontmatter["speakers"] || {};
    const speakers = lines.filter((line) => line.speaker).map((line) => line.speaker).unique().filter((speaker) => !configuredSpeakers[speaker]);
    lines.forEach((line) => {
      const targetDiv = el.createDiv();
      const mdRenderer = new import_obsidian.MarkdownRenderChild(targetDiv);
      ctx.addChild(mdRenderer);
      const appReference = this.app;
      function writeMarkdown(md) {
        import_obsidian.MarkdownRenderer.render(appReference, md, targetDiv, ctx.sourcePath, mdRenderer);
      }
      switch (line.type) {
        case "description":
          targetDiv.addClass("desc");
          writeMarkdown(line.line);
          break;
        case "note":
          targetDiv.addClass("note");
          writeMarkdown(line.line.substring(1).trim());
          break;
        case "speech":
          const speakerName = line.speaker || "Unknown";
          const spokenText = line.text || "";
          targetDiv.detach();
          if (spokenText.trim() == "") {
            return;
          }
          const speechDiv = el.createDiv("speech");
          const nameDiv = speechDiv.createDiv("name");
          if (line.mood) {
            const moodDiv = speechDiv.createDiv("mood");
            moodDiv.appendText(line.mood);
          }
          const speakerNumber = speakers.indexOf(speakerName);
          const speakerColor = configuredSpeakers[speakerName];
          speechDiv.appendChild(targetDiv);
          nameDiv.appendText(speakerName);
          if (speakerColor) {
            nameDiv.setAttribute("style", `color:${speakerColor}`);
          } else {
            nameDiv.addClass(`p${speakerNumber}`);
          }
          targetDiv.addClass("speaks");
          writeMarkdown(spokenText);
          break;
        default:
          targetDiv.addClass("unknown");
          writeMarkdown(line.line);
          break;
      }
    });
    el.addClass("comic-dialog-block");
  }
  setupStyles() {
    this.styleBlock = createEl("style");
    this.styleBlock.appendText(`
            .comic-dialog-block {
                border-radius: 1rem;
                
                --speaks-color-0: var(--color-red);
                --speaks-color-1: var(--color-orange);
                --speaks-color-2: var(--color-yellow);
                --speaks-color-3: var(--color-green);
                --speaks-color-4: var(--color-cyan);
                --speaks-color-5: var(--color-blue);
                --speaks-color-6: var(--color-purple);
                --speaks-color-7: var(--color-pink);
            }

            .comic-dialog-block .unknown {
                background-color: var(--color-red);
            }

            .comic-dialog-block .note {
                background-color: rgba(var(--color-cyan-rgb), 10%);
                border-radius: 0.5rem;
                color: var(--color-cyan);
                margin-top: 1rem;
                margin-bottom: 1rem;
                padding: 0.75rem;
            }
            
            .comic-dialog-block .desc {
                text-align: justify;
            }
            
            .comic-dialog-block .speech {
                background-color: var(--background-modifier-form-field);
                border-radius: 0.5rem;
                margin: 1rem;
                padding: 0.75rem;
                display: flex;
                gap: 2rem;
            }
            
            .comic-dialog-block .speech .name {
                width: 10rem;
                flex: 0 0 fit-content;
            }

            .comic-dialog-block .speech .mood {
                width: 10rem;
                flex: 0 0 fit-content;
                font-style: italic;
                color: #696d70;
            }

            .comic-dialog-block .speech .name.p0 {
                color: var(--speaks-color-0);
            }
            .comic-dialog-block .speech .name.p1 {
                color: var(--speaks-color-1);
            }
            .comic-dialog-block .speech .name.p2 {
                color: var(--speaks-color-2);
            }
            .comic-dialog-block .speech .name.p3 {
                color: var(--speaks-color-3);
            }
            .comic-dialog-block .speech .name.p4 {
                color: var(--speaks-color-4);
            }
            .comic-dialog-block .speech .name.p5 {
                color: var(--speaks-color-5);
            }
            .comic-dialog-block .speech .name.p6 {
                color: var(--speaks-color-6);
            }
            .comic-dialog-block .speech .name.p7 {
                color: var(--speaks-color-7);
            }
            
            .comic-dialog-block .speech .speaks {
                flex: 0 1 initial;
            }
            
            .comic-dialog-block .speech .speaks p {
                display: inline;
            }
        `);
    document.head.appendChild(this.styleBlock);
  }
  onload() {
    this.setupStyles();
    this.registerMarkdownCodeBlockProcessor("comic-dialog", this.handleDialogBlock.bind(this));
  }
  unload() {
    if (this.styleBlock != null) {
      document.head.removeChild(this.styleBlock);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuICAgIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXHJcbiAgICBNYXJrZG93blJlbmRlckNoaWxkLFxyXG4gICAgTWFya2Rvd25SZW5kZXJlcixcclxuICAgIFBsdWdpbixcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21pY0RpYWxvZ1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICBzdHlsZUJsb2NrOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgZGV0ZWN0TGluZVR5cGUobGluZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiICBcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwic3BlZWNoXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoXCIqXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm5vdGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcImRlc2NyaXB0aW9uXCJcclxuICAgIH1cclxuICAgIGhhbmRsZURpYWxvZ0Jsb2NrKHNvdXJjZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gc291cmNlLnNwbGl0KFwiXFxuXCIpLm1hcChsaW5lID0+ICh7XHJcbiAgICAgICAgICAgIGxpbmUsXHJcbiAgICAgICAgICAgIHR5cGU6IHRoaXMuZGV0ZWN0TGluZVR5cGUobGluZSksXHJcbiAgICAgICAgICAgIHNwZWFrZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHRleHQ6IG51bGwsXHJcbiAgICAgICAgICAgIG1vb2Q6IG51bGxcclxuICAgICAgICB9KSkubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgICAgIGlmIChsaW5lLnR5cGUgPT0gXCJzcGVlY2hcIikge1xyXG4gICAgICAgICAgICAgICBjb25zdCB0cmltbWVkTGluZSA9IGxpbmUubGluZS50cmltKCk7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IG5hbWVMZW4gPSB0cmltbWVkTGluZS5pbmRleE9mKFwiOlwiKTtcclxuICAgICAgICAgICAgICAgY29uc3QgW3NwZWFrZXIsIG1vb2RdID0gdHJpbW1lZExpbmUuc3Vic3RyaW5nKDAsIG5hbWVMZW4pLnNwbGl0KFwifFwiLCAyKS5tYXAocyA9PiBzLnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0cmltbWVkTGluZS5zdWJzdHJpbmcobmFtZUxlbiArIDEpLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAuLi5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgc3BlYWtlcixcclxuICAgICAgICAgICAgICAgICAgIHRleHQsXHJcbiAgICAgICAgICAgICAgICAgICBtb29kXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgcmV0dXJuIGxpbmU7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Q2FjaGUoY3R4LnNvdXJjZVBhdGgpIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGZyb250bWF0dGVyID0gbWV0YWRhdGEuZnJvbnRtYXR0ZXIgfHwge307XHJcbiAgICAgICAgY29uc3QgY29uZmlndXJlZFNwZWFrZXJzID0gZnJvbnRtYXR0ZXJbXCJzcGVha2Vyc1wiXSB8fCB7fTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3BlYWtlcnMgPSBsaW5lc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmUgPT4gbGluZS5zcGVha2VyKVxyXG4gICAgICAgICAgICAubWFwKGxpbmUgPT4gbGluZS5zcGVha2VyISlcclxuICAgICAgICAgICAgLnVuaXF1ZSgpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoc3BlYWtlciA9PiAhY29uZmlndXJlZFNwZWFrZXJzW3NwZWFrZXJdKTtcclxuXHJcbiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGl2ID0gZWwuY3JlYXRlRGl2KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1kUmVuZGVyZXIgPSBuZXcgTWFya2Rvd25SZW5kZXJDaGlsZCh0YXJnZXREaXYpO1xyXG4gICAgICAgICAgICBjdHguYWRkQ2hpbGQobWRSZW5kZXJlcik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhcHBSZWZlcmVuY2UgPSB0aGlzLmFwcDtcclxuICAgICAgICAgICAgZnVuY3Rpb24gd3JpdGVNYXJrZG93bihtZDogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlcihhcHBSZWZlcmVuY2UsIG1kLCB0YXJnZXREaXYsIGN0eC5zb3VyY2VQYXRoLCBtZFJlbmRlcmVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3dpdGNoIChsaW5lLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZXNjcmlwdGlvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldERpdi5hZGRDbGFzcyhcImRlc2NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVNYXJrZG93bihsaW5lLmxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXYuYWRkQ2xhc3MoXCJub3RlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlTWFya2Rvd24obGluZS5saW5lLnN1YnN0cmluZygxKS50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNwZWVjaFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWFrZXJOYW1lID0gbGluZS5zcGVha2VyIHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwb2tlblRleHQgPSBsaW5lLnRleHQgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXYuZGV0YWNoKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcG9rZW5UZXh0LnRyaW0oKSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWVjaERpdiA9IGVsLmNyZWF0ZURpdihcInNwZWVjaFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lRGl2ID0gc3BlZWNoRGl2LmNyZWF0ZURpdihcIm5hbWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLm1vb2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9vZERpdiA9IHNwZWVjaERpdi5jcmVhdGVEaXYoXCJtb29kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb29kRGl2LmFwcGVuZFRleHQobGluZS5tb29kKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwZWFrZXJOdW1iZXIgPSBzcGVha2Vycy5pbmRleE9mKHNwZWFrZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVha2VyQ29sb3IgPSBjb25maWd1cmVkU3BlYWtlcnNbc3BlYWtlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVjaERpdi5hcHBlbmRDaGlsZCh0YXJnZXREaXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWVEaXYuYXBwZW5kVGV4dChzcGVha2VyTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGVha2VyQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZURpdi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgY29sb3I6JHtzcGVha2VyQ29sb3J9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZURpdi5hZGRDbGFzcyhgcCR7c3BlYWtlck51bWJlcn1gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldERpdi5hZGRDbGFzcyhcInNwZWFrc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZU1hcmtkb3duKHNwb2tlblRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXREaXYuYWRkQ2xhc3MoXCJ1bmtub3duXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlTWFya2Rvd24obGluZS5saW5lKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmFkZENsYXNzKFwiY29taWMtZGlhbG9nLWJsb2NrXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwU3R5bGVzKCkge1xyXG4gICAgICAgIHRoaXMuc3R5bGVCbG9jayA9IGNyZWF0ZUVsKFwic3R5bGVcIik7XHJcblxyXG4gICAgICAgIC8vIGxhbmd1YWdlPUNTU1xyXG4gICAgICAgIHRoaXMuc3R5bGVCbG9jay5hcHBlbmRUZXh0KGBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAtLXNwZWFrcy1jb2xvci0wOiB2YXIoLS1jb2xvci1yZWQpO1xyXG4gICAgICAgICAgICAgICAgLS1zcGVha3MtY29sb3ItMTogdmFyKC0tY29sb3Itb3JhbmdlKTtcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTI6IHZhcigtLWNvbG9yLXllbGxvdyk7XHJcbiAgICAgICAgICAgICAgICAtLXNwZWFrcy1jb2xvci0zOiB2YXIoLS1jb2xvci1ncmVlbik7XHJcbiAgICAgICAgICAgICAgICAtLXNwZWFrcy1jb2xvci00OiB2YXIoLS1jb2xvci1jeWFuKTtcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTU6IHZhcigtLWNvbG9yLWJsdWUpO1xyXG4gICAgICAgICAgICAgICAgLS1zcGVha3MtY29sb3ItNjogdmFyKC0tY29sb3ItcHVycGxlKTtcclxuICAgICAgICAgICAgICAgIC0tc3BlYWtzLWNvbG9yLTc6IHZhcigtLWNvbG9yLXBpbmspO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC51bmtub3duIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5jb21pYy1kaWFsb2ctYmxvY2sgLm5vdGUge1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1jb2xvci1jeWFuLXJnYiksIDEwJSk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItY3lhbik7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNzVyZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC5jb21pYy1kaWFsb2ctYmxvY2sgLmRlc2Mge1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjoganVzdGlmeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuc3BlZWNoIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItZm9ybS1maWVsZCk7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDFyZW07XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjc1cmVtO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGdhcDogMnJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuc3BlZWNoIC5uYW1lIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMHJlbTtcclxuICAgICAgICAgICAgICAgIGZsZXg6IDAgMCBmaXQtY29udGVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuc3BlZWNoIC5tb29kIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMHJlbTtcclxuICAgICAgICAgICAgICAgIGZsZXg6IDAgMCBmaXQtY29udGVudDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjNjk2ZDcwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDAge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDEge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDIge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDMge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci0zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDQge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci00KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDUge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci01KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDYge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci02KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuY29taWMtZGlhbG9nLWJsb2NrIC5zcGVlY2ggLm5hbWUucDcge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXNwZWFrcy1jb2xvci03KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLmNvbWljLWRpYWxvZy1ibG9jayAuc3BlZWNoIC5zcGVha3Mge1xyXG4gICAgICAgICAgICAgICAgZmxleDogMCAxIGluaXRpYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC5jb21pYy1kaWFsb2ctYmxvY2sgLnNwZWVjaCAuc3BlYWtzIHAge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZUJsb2NrKTtcclxuICAgIH1cclxuXHJcbiAgICBvbmxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5zZXR1cFN0eWxlcygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcImNvbWljLWRpYWxvZ1wiLCB0aGlzLmhhbmRsZURpYWxvZ0Jsb2NrLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9hZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdHlsZUJsb2NrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlQmxvY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFLTztBQUVQLElBQXFCLG9CQUFyQixjQUErQyx1QkFBTztBQUFBLEVBQXREO0FBQUE7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
